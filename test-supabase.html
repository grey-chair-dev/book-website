<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supabase Connection Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>🧪 Supabase Connection Test</h1>
    
    <h2>📋 Test Steps:</h2>
    <ol>
        <li><strong>Test Admin Login:</strong> <a href="http://localhost:3000/admin" target="_blank">http://localhost:3000/admin</a></li>
        <li><strong>Login Credentials:</strong>
            <ul>
                <li>Username: <code>admin</code></li>
                <li>Password: <code>heirsofeleusa2024</code></li>
            </ul>
        </li>
        <li><strong>Check Dashboard:</strong> You should see the admin dashboard</li>
        <li><strong>Check Status Banner:</strong> Look for yellow banner at top</li>
    </ol>

    <h2>🔍 What to Look For:</h2>
    
    <h3>✅ If Supabase is Working:</h3>
    <ul>
        <li>No yellow "Demo Mode" banner at the top</li>
        <li>Data loads from Supabase database</li>
        <li>Changes persist when you refresh the page</li>
        <li>Console shows: "🔄 Using Supabase service"</li>
    </ul>

    <h3>⚠️ If Using Fallback Mode:</h3>
    <ul>
        <li>Yellow "Demo Mode" banner at the top</li>
        <li>Data loads from local JSON files</li>
        <li>Changes don't persist (reset on refresh)</li>
        <li>Console shows: "🔄 Supabase not configured, using fallback service"</li>
    </ul>

    <h2>🗄️ Next Steps:</h2>
    
    <h3>If you see Demo Mode:</h3>
    <ol>
        <li>Go to your <a href="https://dtnzylcnrbjknbygeksc.supabase.co" target="_blank">Supabase Dashboard</a></li>
        <li>Go to <strong>SQL Editor</strong></li>
        <li>Copy the contents of <code>supabase-schema.sql</code></li>
        <li>Paste and run the SQL to create tables</li>
        <li>Refresh the admin dashboard</li>
    </ol>

    <h3>If Supabase is Working:</h3>
    <ul>
        <li>🎉 Congratulations! You're out of demo mode</li>
        <li>Try editing a book or blog post</li>
        <li>Refresh the page to see changes persist</li>
        <li>Check your Supabase dashboard to see the data</li>
    </ul>

    <h2>🔧 Troubleshooting:</h2>
    
    <h3>Common Issues:</h3>
    <ul>
        <li><strong>Connection Error:</strong> Check your .env file has correct credentials</li>
        <li><strong>Permission Denied:</strong> Make sure RLS policies are set up correctly</li>
        <li><strong>No Data:</strong> Run the SQL schema to create tables and sample data</li>
    </ul>

    <h3>Check Console:</h3>
    <p>Open browser developer tools (F12) and check the console for error messages.</p>

    <h2>📊 Your Supabase Project:</h2>
    <p><strong>URL:</strong> <code>https://dtnzylcnrbjknbygeksc.supabase.co</code></p>
    <p><strong>Dashboard:</strong> <a href="https://dtnzylcnrbjknbygeksc.supabase.co" target="_blank">Open Supabase Dashboard</a></p>
</body>
</html>
